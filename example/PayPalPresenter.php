<?php

use Nette\Application\Responses\TextResponse;
use Nette\Diagnostics\Debugger;
use PayPal\PayPal;
use PayPal\PayPalException;
use PayPal\HTTPException;

/**
 * PayPal example presenter.
 */
class PayPalPresenter extends BasePresenter
{
    private $img = 'data:image/jpeg;base64,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';



    protected function beforeRender()
    {
        parent::beforeRender();
        $this->getHttpResponse()->setContentType('text/html');
    }



    /**
     * Default view. Show only link to payment action.
     */
	public function renderDefault()
	{
        $link = htmlspecialchars($this->link('pay!'));
        $this->sendResponse(new TextResponse('<a href="' . $link . '">Pay $1 with PayPal!</a>'));
	}



    /**
     * Payment action. Initiates payment.
     */
    public function handlePay()
    {
        try {
            // If succesful, it does not return, there is a die() inside.
            $this->getPaypal()->doExpressCheckout(1, 'ExamplePresenter',
                    $this->link('//return'), $this->link('//cancel'), 'USD');

        } catch (HTTPException $ex) {
            // Problem with HTTP communication.
            $this->sendResponse(new TextResponse('<h1>Oops!</h1>' . Debugger::dump($ex->getMessage(), TRUE)));

        } catch (PayPalException $ex) {
            // Problem with PayPal (invalid payment options, anything).
            $this->sendResponse(new TextResponse('<h1>Oops!</h1>' . Debugger::dump($ex->getErrorInfo(), TRUE)));
        }
    }



    /**
     * Return page. Confirms payment and thanks the user.
     * BEWARE! Params are case-sensitive (payerId would not work).
     */
    public function renderReturn($token, $PayerID)
    {
        try {
            // Confirm payment.
            $info = $this->getPaypal()->doPayment($token, $PayerID);

            // Load some additional details.
            $details = $this->getPaypal()->getCheckoutDetails($token);

            $this->sendResponse(new TextResponse('<h1>Thank you!</h1>' .
                '<h2>doPayment()</h2>' . Debugger::dump($info, TRUE) .
                '<h2>getCheckoutDetails()</h2>' . Debugger::dump($details, TRUE)));

        } catch (HTTPException $ex) {
            // Problem with HTTP communication.
            $this->sendResponse(new TextResponse('<h1>Oops!</h1>' . Debugger::dump($ex->getMessage(), TRUE)));

        } catch (PayPalException $ex) {
            // Problem with PayPal (who knows what can happen).
            $this->sendResponse(new TextResponse('<h1>Oops!</h1>' . Debugger::dump($ex->getErrorInfo(), TRUE)));
        }
    }



    /**
     * Cancel page. Hates the user for not paying.
     */
    public function renderCancel($token)
    {
        try {
            // This additional information is usually useless, but we output them anyway.
            $details = $this->getPaypal()->getCheckoutDetails($token);
            $this->sendResponse(new TextResponse('<img src="' . $this->img . '">' .
                '<h2>getCheckoutDetails()</h2>' . Debugger::dump($details, TRUE)));

        } catch (HTTPException $ex) {
            // Problem with HTTP communication.
            $this->sendResponse(new TextResponse('<h1>Oops!</h1>' . Debugger::dump($ex->getMessage(), TRUE)));

        } catch (PayPalException $ex) {
            // Problem with PayPal (who knows what can happen).
            $this->sendResponse(new TextResponse('<h1>Oops!</h1>' . Debugger::dump($ex->getErrorInfo(), TRUE)));
        }
    }



    /**
     * PayPal initialization. Unfortunately, it is not a Nette component
     * which could be attached to the presenter.
     */
    private function getPaypal()
    {
        $params = $this->getContext()->getParameters();
        return new PayPal(
            $params['paypal_username'],
            $params['paypal_password'],
            $params['paypal_signature'],
            $params['paypal_real']
        );
    }

}
